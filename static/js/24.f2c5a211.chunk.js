webpackJsonp([24],{531:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n.n(a),l=n(74),i=(n.n(l),n(549)),o=(n.n(i),n(48)),s=n(47),c=n(555),u=n(554),p=n(550),m=n(551),h=n(553),f=n(556),g=n.n(f),y=n(558),d=n.n(y),b=n(552),E=n.n(b),v=n(205),x=n.n(v),w=n(204),T=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},_=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),C=this&&this.__decorate||function(e,t,n,a){var r,l=arguments.length,i=l<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(i=(l<3?r(i):l>3?r(t,n,i):r(t,n))||i);return l>3&&i&&Object.defineProperty(t,n,i),i},j=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},P=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(r,l){function i(e){try{s(a.next(e))}catch(e){l(e)}}function o(e){try{s(a.throw(e))}catch(e){l(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(i,o)}s((a=a.apply(e,t||[])).next())})},I=this&&this.__generator||function(e,t){function n(e){return function(t){return a([e,t])}}function a(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,l&&(i=2&n[0]?l.return:n[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,n[1])).done)return i;switch(l=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,l=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){s.label=n[1];break}if(6===n[0]&&s.label<i[1]){s.label=i[1],i=n;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(n);break}i[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],l=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,l,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},O=o.b.img(k||(k=T(["\n  max-width: 90%;\n  width: 300px;\n  padding: 2em;\n"],["\n  max-width: 90%;\n  width: 300px;\n  padding: 2em;\n"]))),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.params={quality:80,target:500,targetType:"width",actionType:"default",maxSizeKb:3e3},t.handleChange=function(e){return function(n){t.params[e]=n.target.value}},t.choose=function(){return P(t,void 0,void 0,function(){var e,t;return I(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),console.log("图片选择请求参数",this.params),[4,Object(w.f)().chooseImg(this.params)];case 1:return e=n.sent(),console.log("图片选择响应参数",e),this.response=e,[3,3];case 2:return t=n.sent(),t instanceof w.a&&alert("图片选择失败: "+t.errCode+": "+t.message),[3,3];case 3:return[2]}})})},t}return _(t,e),t.prototype.render=function(){var e=this;return r.a.createElement("div",{className:this.props.className},r.a.createElement(i.Helmet,null,r.a.createElement("title",null,"选择图片")),r.a.createElement(p.a,null,"选择图片",r.a.createElement(h.a,{pc:!0,ios:!0,android:!0})),r.a.createElement(m.a,null,r.a.createElement(g.a,{hintText:"图片质量",floatingLabelText:"quality(0-100)",value:this.params.quality,onChange:this.handleChange("quality")}),r.a.createElement("br",null),r.a.createElement(g.a,{floatingLabelText:"target(number)",value:this.params.target,onChange:this.handleChange("target")}),r.a.createElement("br",null),r.a.createElement(d.a,{floatingLabelText:"target",value:this.params.targetType,onChange:function(t,n,a){return e.params.targetType=a}},r.a.createElement(x.a,{value:"default",primaryText:"default"}),r.a.createElement(x.a,{value:"width",primaryText:"width"}),r.a.createElement(x.a,{value:"height",primaryText:"height"})),r.a.createElement("br",null),r.a.createElement(g.a,{floatingLabelText:"maxSizeKb(number)",value:this.params.maxSizeKb,onChange:this.handleChange("maxSizeKb")}),r.a.createElement("br",null),r.a.createElement(d.a,{floatingLabelText:"actionType",value:this.params.actionType,onChange:function(t,n,a){return e.params.actionType=a}},r.a.createElement(x.a,{value:"default",primaryText:"default"}),r.a.createElement(x.a,{value:"camera",primaryText:"camera"}),r.a.createElement(x.a,{value:"gallery",primaryText:"gallery"})),r.a.createElement("br",null),r.a.createElement(E.a,{label:"选择",onClick:this.choose}),r.a.createElement("br",null),!!this.response&&r.a.createElement("ul",null,r.a.createElement("li",null,"width: ",this.response.width),r.a.createElement("li",null,"height: ",this.response.height),r.a.createElement("li",null,"name: ",this.response.name),r.a.createElement("li",null,"quality: ",this.response.quality),r.a.createElement("li",null,"extension: ",this.response.extension),r.a.createElement("li",null,"preview: ",r.a.createElement("br",null),r.a.createElement(O,{src:this.response.dataUrl})))),r.a.createElement(m.a,null,r.a.createElement(p.a,null,"示例代码"),r.a.createElement(u.a,null,"\nimport Api, { BridgeResponseError } from '@gdjiami/gzb-jssdk'\nconst api = Api()\nasync function chooseImage(){\n  try {\n    const { dataUrl } = await api().chooseImg()\n    preview(dataUrl)\n  } catch (err) {\n    if (err instanceof BridgeResponseError) {\n      alert(`图片选择失败: ${err.errCode}: ${err.message}`)\n    }\n  }\n}")),r.a.createElement(m.a,null,r.a.createElement(p.a,null,"文档"),r.a.createElement(c.a,null,"\n► **chooseImg**(params?: *ChooseImgParams*): `Promise`< ChooseImgResponse>\n\n**Parameters:**\n\n| Param | Type | Description |\n| ------ | ------ | ------ |\n| params | ChooseImgParams  |  - |\n\n**Returns:** `Promise`< ChooseImgResponse>\n\n**Types:**\n\n```typescript\ntype ImageType = 'bmp' | 'gif' | 'jpg' | 'png'\n/**\n * 选择图片请求参数\n */\ninterface ChooseImgParams {\n  /**\n   * 图片质量，1 - 100\n   */\n  quality?: number\n  /**\n   * 设置缩放后的边大小\n   */\n  target?: number\n  /**\n   * 设置target应用到的边, 默认为default\n   */\n  targetType?: 'default' | 'width' | 'height'\n  /**\n   * 操作类型， camera 打开相机， gallery打开相册. \n   * 默认为default，弹出一个actionsheet， 由 * 用户自主选择\n   */\n  actionType?: 'default' | 'camera' | 'gallery'\n  /**\n   * 图片扩展类型\n   */\n  extType?: ImageType[]\n  /**\n   * 最大体积， 单位为kb\n   */\n  maxSizeKb?: number\n  /**\n   * 选中后返回的图片格式(如果没有指定, 默认返回jpeg类型)\n   */\n  returnExt?: ImageType;\n}\n\n/**\n * 选择图片返回数据\n */\nexport interface ChooseImgResponse {\n  width: number\n  height: number\n  name?: string\n  quality: number\n  extension: ImageType\n  dataUrl: string\n}\n```\n")))},C([s.observable,j("design:type",Object)],t.prototype,"params",void 0),C([s.observable,j("design:type",Object)],t.prototype,"response",void 0),t=C([l.observer],t)}(r.a.Component);t.default=R;var k}});
//# sourceMappingURL=24.f2c5a211.chunk.js.map